(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(27),c=a.n(i),o=(a(68),a(6)),s=a(4),l=a(24),u="https://mycroft-test-api.herokuapp.com",d="idle",j="pending",b="fail",p="\ub85c\uadf8\uc778\uc774 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uc774\uba54\uc77c\uacfc \ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694!",m="\ud544\uc218\ub85c \uc785\ub825\ud574\uc57c \ud558\ub294 \uc591\uc2dd\uc785\ub2c8\ub2e4.",x="\uc798\ubabb\ub41c \uc774\uba54\uc77c \uc591\uc2dd\uc785\ub2c8\ub2e4.",h="\ud328\uc2a4\uc6cc\ub4dc\ub294 8~15\uc790\ub85c \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.",v="\uc785\ub825\ud558\uc2e0 \ud328\uc2a4\uc6cc\ub4dc\uc640 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",g="\uc798\ubabb\ub41c \uc5f0\ub77d\ucc98 \uc591\uc2dd\uc785\ub2c8\ub2e4.",f=a(8),O=a.n(f),_=a(15),k=a(23),w=a(22),N=a.n(w),C={"Content-type":"application/json"};var y={fetchLogin:function(e){var t=e.email,a=e.password;return N.a.post("".concat(u,"/login"),{headers:C,data:{email:t,password:a}})},fetchSignup:function(e){var t=e.email,a=e.password,n=e.mobile;return N.a.post("".concat(u,"/sign-up"),{headers:C,data:{email:t,password:a,mobile:n}})}};function E(e){var t,a=e.value,n=e.validateExtra,r=e.extraError;return a?n(a)||(t=r):t=m,t}function I(e){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)}function S(e){return E({value:e,validateExtra:I,extraError:x})}function M(e){return e.length>8}function P(e){return E({value:e,validateExtra:M,extraError:h})}function A(e){var t=e.password,a=e.value;return function(){return t===a}}function L(e){return/^[0-9]{2,3}-[0-9]{3,4}-[0-9]{4}$/.test(e)}function D(e){return E({value:e,validateExtra:L,extraError:g})}var T="token";var F,B={setToken:function(e){localStorage.setItem(T,e)},getToken:function(){return localStorage.getItem(T)},clearToken:function(){localStorage.removeItem(T)}},H={state:d,error:null,token:null!==(F=B.getToken())&&void 0!==F?F:null},Z=Object(k.b)("auth/fetchLogin",function(){var e=Object(_.a)(O.a.mark((function e(t){var a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.next=3,y.fetchLogin({email:a,password:n});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=Object(k.b)("auth/fetchSignup",function(){var e=Object(_.a)(O.a.mark((function e(t){var a,n,r,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,r=t.mobile,e.next=3,y.fetchSignup({email:a,password:n,mobile:r});case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J=function(e,t){e.token=t.payload.token,e.state=d},K=function(e,t){e.state=b;var a=t.type.includes("fetchLogin")?p:"\ud68c\uc6d0\uac00\uc785\uc774 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4!";e.error=a},R=function(e){e.state=j,e.token=null,e.error=null},Y=[Z,z],X=Object(k.c)({name:"auth",initialState:H,reducers:{logout:function(e){e.token=null}},extraReducers:function(e){Y.forEach((function(t){e.addCase(t.fulfilled,J).addCase(t.pending,R).addCase(t.rejected,K)}))}}),G=X.actions.logout,V=X.reducer;var q=function(){var e=Object(l.c)((function(e){return e.auth})),t=e.token,a=e.state,n=e.error,r=Object(l.b)();return{token:t,state:a,error:n,isLoading:a===j,existingToken:!!t,login:function(e){var t=e.email,a=e.password;return r(Z({email:t,password:a}))},logout:function(){r(G()),B.clearToken()},signup:function(e){var t=e.email,a=e.password,n=e.mobile;return r(z({email:t,password:a,mobile:n}))}}},U=a(33),W={"Content-type":"application/json"};var $={fetchAllOrders:function(e){return N.a.get("".concat(u,"/").concat(e),{headers:W}).then((function(e){return e.data}))},fetchOrder:function(e){return N.a.get("".concat(u,"/").concat(e),{headers:W}).then((function(e){return e.data}))}};var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(U.a)("order?page=".concat(e),$.fetchAllOrders),a=t.data,n=t.error;return{orders:null===a||void 0===a?void 0:a.content,currentPage:null===a||void 0===a?void 0:a.currentPage,totalPage:null===a||void 0===a?void 0:a.totalPage,isLoading:!n&&!a,existingError:n}};var ee=function(e){var t=Object(U.a)("order/".concat(e),$.fetchOrder),a=t.data,n=t.error;return{order:a,isLoading:!n&&!a,existingError:n}},te=a(13),ae=a.n(te),ne=a(1);var re=function(){var e=q().logout,t=Object(s.g)(),a=function(){var a=Object(_.a)(O.a.mark((function a(){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:t.push("/");case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(ne.jsx)("button",{className:ae.a.navItem,onClick:a,children:"\ub85c\uadf8\uc544\uc6c3"})};var ie=function(){var e=q().existingToken;return Object(ne.jsxs)("header",{className:ae.a.header,children:[Object(ne.jsx)("img",{className:ae.a.logo,src:"".concat("/Mycroft-Assignment/index.html","/images/logo.svg"),alt:"logo",width:50,height:50}),Object(ne.jsx)("nav",{children:Object(ne.jsxs)("ul",{className:ae.a.nav,children:[Object(ne.jsx)("li",{children:Object(ne.jsx)(o.b,{exact:!0,to:"/",className:ae.a.navItem,activeClassName:ae.a.active,children:"\uc11c\ube44\uc2a4"})}),Object(ne.jsx)("li",{children:Object(ne.jsx)(o.b,{to:e?"/mypage/order":"/sign-up",className:ae.a.navItem,activeClassName:ae.a.active,children:e?"\ub9c8\uc774\ud398\uc774\uc9c0":"\ud68c\uc6d0\uac00\uc785"})}),Object(ne.jsx)("li",{children:e?Object(ne.jsx)(re,{}):Object(ne.jsx)(o.b,{to:"/login",className:ae.a.navItem,activeClassName:ae.a.active,children:"\ub85c\uadf8\uc778"})})]})})]})},ce=a(53),oe=a.n(ce);var se=function(e){var t=e.text;return Object(ne.jsx)("h1",{className:oe.a.text,children:t})},le=a(21),ue=a.n(le),de=a(54),je=a.n(de);var be=function(e){var t=e.text,a=e.disabled,n=void 0!==a&&a,r=e.loading,i=void 0!==r&&r,c=e.onClick;return Object(ne.jsx)("button",{disabled:n,onClick:c,className:je.a.button,children:i?Object(ne.jsx)(ue.a,{type:"TailSpin",color:"#00BFFF",height:20,width:20}):t})},pe=a(55),me=a.n(pe);var xe=function(e){var t=e.children,a=e.onSubmit,n=e.onChange;return Object(ne.jsx)("form",{className:me.a.form,onChange:n,onSubmit:a,children:t})},he=a(30),ve=a(18),ge=a(34),fe=a.n(ge),Oe=a(29),_e=a.n(Oe);var ke=function(e){var t=e.name,a=e.existingError,n=void 0!==a&&a,r=e.type,i=e.disabled,c=e.placeholder,o=e.maxLength,s=e.validate,l=e.children;return Object(ne.jsxs)("label",{className:fe.a.label,children:[l,Object(ne.jsx)(ve.b,{name:t,className:_e()(fe.a.input,Object(he.a)({},"".concat(fe.a.error),n)),type:r,placeholder:c,maxLength:o,disabled:i,validate:s})]})},we=a(58),Ne=a.n(we);var Ce=function(e){var t=e.name;return Object(ne.jsx)(ve.a,{className:Ne.a.errorMessage,name:t,component:"label"})},ye=a(39),Ee=a.n(ye);var Ie=function(e){var t=e.id,a=e.itemName,n=e.onClick;return Object(ne.jsxs)("li",{className:Ee.a.container,onClick:n,children:[Object(ne.jsx)("span",{className:Ee.a.orderId,children:t}),Object(ne.jsx)("span",{children:a})]})},Se=a(59),Me=a.n(Se);var Pe=function(e){var t=e.errorMessage;return Object(ne.jsx)("div",{className:Me.a.errorMessage,children:t})},Ae=a(60),Le=a.n(Ae);var De=function(e){var t=e.page,a=Q(t),n=a.orders,r=a.isLoading,i=a.existingError,c=Object(s.g)();return r?Object(ne.jsx)(ue.a,{type:"TailSpin",color:"#00BFFF",height:50,width:50}):i?Object(ne.jsx)(Pe,{errorMessage:"\uc8fc\ubb38 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. "}):Object(ne.jsx)("ul",{className:Le.a.container,children:n.map((function(e,t){return Object(ne.jsx)(Ie,{id:e.id,itemName:e.itemName,onClick:(a=e.id,function(){c.push("/mypage/order/".concat(a))})},t);var a}))})},Te=a(63),Fe=a(61),Be=a.n(Fe),He=a(20),Ze=a.n(He);var ze=function(e){var t=e.onChange,a=e.currentPage;return Object(ne.jsx)(Be.a,{innerClass:Ze.a.container,itemClass:Ze.a.item,disabledClass:Ze.a.itemDisabled,activeClass:Ze.a.itemActive,linkClass:Ze.a.link,activeLinkClass:Ze.a.linkActive,activePage:a,itemsCountPerPage:10,totalItemsCount:30,pageRangeDisplayed:10,onChange:t})},Je=a(40),Ke=a.n(Je);var Re=function(){var e=Object(n.useState)(1),t=Object(Te.a)(e,2),a=t[0],r=t[1];return Object(ne.jsxs)("div",{className:Ke.a.container,children:[Object(ne.jsx)(De,{page:a-1}),Object(ne.jsx)("div",{className:Ke.a.pagination,children:Object(ne.jsx)(ze,{currentPage:a,onChange:function(e){r(e)}})})]})},Ye=a(41),Xe=a.n(Ye);var Ge=function(e){var t=e.children;return Object(ne.jsxs)("div",{className:Xe.a.container,children:[Object(ne.jsx)(ie,{}),Object(ne.jsx)("main",{className:Xe.a.main,children:t})]})},Ve=a(42),qe=a.n(Ve);var Ue=function(){var e=q().existingToken,t=Object(s.g)();return Object(ne.jsxs)(Ge,{children:[Object(ne.jsx)(se,{text:"\uc11c\ube44\uc2a4 \ud654\uba74"}),Object(ne.jsxs)("div",{className:qe.a.productContainer,children:[Object(ne.jsx)("img",{className:qe.a.productImg,src:"".concat("/Mycroft-Assignment/index.html","/images/product.jpg"),alt:"product",width:300,height:250}),Object(ne.jsx)(be,{text:"\uc8fc\ubb38\ud558\uae30",primary:!0,onClick:function(){e?We():($e(),t.push("/sign-up"))}})]})]})},We=function(){alert("\uc8fc\ubb38\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")},$e=function(){alert("\ub85c\uadf8\uc778 \uc0c1\ud0dc\uc77c \ub54c\ub9cc \uc8fc\ubb38\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.")};var Qe=function(){var e=q(),t=e.isLoading,a=e.login,n=Object(s.g)(),r=function(){var e=Object(_.a)(O.a.mark((function e(t){var r,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,i=t.password,e.next=3,a({email:r,password:i});case 3:e.sent.error?alert(p):n.push("/");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ne.jsxs)(Ge,{children:[Object(ne.jsx)(se,{text:"\ub85c\uadf8\uc778 \ud654\uba74"}),Object(ne.jsx)(ve.c,{initialValues:et,onSubmit:r,children:function(e){var a=e.handleSubmit,n=e.touched,r=e.errors;return Object(ne.jsxs)(xe,{onSubmit:a,children:[Object(ne.jsx)(ke,{type:"email",name:"email",placeholder:"user@example.com",disabled:t,validate:S,existingError:n.email&&r.email,children:"\uc774\uba54\uc77c"}),Object(ne.jsx)(Ce,{name:"email"}),Object(ne.jsx)(ke,{type:"password",name:"password",placeholder:"8~15 \uc790\ub97c \uc785\ub825\ud558\uc138\uc694",disabled:t,maxLength:15,validate:P,existingError:n.password&&r.password,children:"\ube44\ubc00\ubc88\ud638"}),Object(ne.jsx)(Ce,{name:"password"}),Object(ne.jsx)(be,{text:"\ub85c\uadf8\uc778",disabled:t,loading:t})]})}})]})},et={email:"",password:""};var tt=function(){var e=q(),t=e.signup,a=e.isLoading,n=Object(s.g)(),r=function(){var e=Object(_.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a);case 2:n.push("/");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ne.jsxs)(Ge,{children:[Object(ne.jsx)(se,{text:"\ud68c\uc6d0\uac00\uc785 \ud654\uba74"}),Object(ne.jsx)(ve.c,{initialValues:at,onSubmit:r,children:function(e){var t,n=e.handleSubmit,r=e.values,i=e.touched,c=e.errors;return Object(ne.jsxs)(xe,{onSubmit:n,children:[Object(ne.jsx)(ke,{type:"email",name:"email",placeholder:"user@example.com",disabled:a,validate:S,existingError:i.email&&c.email,children:"\uc774\uba54\uc77c"}),Object(ne.jsx)(Ce,{name:"email"}),Object(ne.jsx)(ke,{type:"password",name:"password",placeholder:"8~15 \uc790\ub97c \uc785\ub825\ud558\uc138\uc694",disabled:a,maxLength:15,validate:P,existingError:i.password&&c.password,children:"\ube44\ubc00\ubc88\ud638"}),Object(ne.jsx)(Ce,{name:"password"}),Object(ne.jsx)(ke,{type:"password",name:"passwordDoubleCheck",disabled:a,maxLength:15,validate:(t=r.password,function(e){return E({value:e,validateExtra:A({value:e,password:t}),extraError:v})}),existingError:i.passwordDoubleCheck&&c.passwordDoubleCheck,children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),Object(ne.jsx)(Ce,{name:"passwordDoubleCheck"}),Object(ne.jsx)(ke,{type:"tel",name:"mobile",placeholder:"010-0000-0000",disabled:a,validate:D,existingError:i.mobile&&c.mobile,children:"\uc5f0\ub77d\ucc98"}),Object(ne.jsx)(Ce,{name:"mobile"}),Object(ne.jsx)(be,{text:"\uac00\uc785\ud558\uae30",disabled:a,loading:a})]})}})]})},at={email:"",password:"",passwordDoubleCheck:"",mobile:""},nt=a(35),rt=a.n(nt);var it=function(){var e=Object(s.i)().id,t=ee(e),a=t.existingError,n=t.isLoading,r=t.order;return a?Object(ne.jsx)(Pe,{errorMessage:"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uc8fc\ubb38\uc785\ub2c8\ub2e4."}):n?Object(ne.jsx)(ue.a,{type:"TailSpin",color:"#00BFFF",height:50,width:50}):Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(se,{text:"\ub9c8\uc774\ud398\uc774\uc9c0 \uc0c1\uc138 \ud654\uba74"}),Object(ne.jsxs)("div",{className:rt.a.container,children:[Object(ne.jsx)("span",{className:rt.a.orderId,children:r.id}),Object(ne.jsx)("span",{className:rt.a.orderName,children:r.itemName})]})]})};var ct=function(){var e=Object(s.j)().path;return Object(ne.jsx)(Ge,{children:Object(ne.jsxs)(s.d,{children:[Object(ne.jsxs)(s.b,{exact:!0,path:e,children:[Object(ne.jsx)(se,{text:"\ub9c8\uc774\ud398\uc774\uc9c0 \ud654\uba74"}),Object(ne.jsx)(Re,{})]}),Object(ne.jsx)(s.b,{path:"".concat(e,"/:id"),children:Object(ne.jsx)(it,{})})]})})},ot=a(25),st=a.n(ot);var lt=function(){var e=Object(s.h)();return Object(ne.jsxs)("div",{className:st.a.container,children:[Object(ne.jsx)("h1",{className:st.a.title,children:"404"}),Object(ne.jsxs)("p",{className:st.a.errorMessage,children:["\uc785\ub825\ud558\uc2e0 \uc8fc\uc18c(",e.pathname,")\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."]}),Object(ne.jsx)(o.b,{className:st.a.btnHome,to:"/",children:"\uc11c\ube44\uc2a4 \ud654\uba74\uc73c\ub85c \ub3cc\uc544\uac00\uae30"})]})},ut=a(62);var dt=function(e){var t=e.component,a=e.exact,n=e.path;return Object(ne.jsx)(s.b,{exact:a,path:n,render:function(e){return B.getToken()?Object(ne.jsx)(t,Object(ut.a)({},e)):Object(ne.jsx)(s.a,{to:{pathname:"/",state:{from:e.location}}})}})};var jt=function(){return Object(ne.jsx)(o.a,{children:Object(ne.jsxs)(s.d,{children:[Object(ne.jsx)(s.b,{exact:!0,path:"/",children:Object(ne.jsx)(Ue,{})}),Object(ne.jsx)(s.b,{exact:!0,path:"/sign-up",children:Object(ne.jsx)(tt,{})}),Object(ne.jsx)(s.b,{exact:!0,path:"/login",children:Object(ne.jsx)(Qe,{})}),Object(ne.jsx)(dt,{path:"/mypage/order",component:ct}),Object(ne.jsx)(s.b,{path:"*",children:Object(ne.jsx)(lt,{})})]})})},bt=Object(k.a)({reducer:{auth:V}});bt.subscribe((function(){B.setToken(bt.getState().auth.token)})),c.a.render(Object(ne.jsx)(r.a.StrictMode,{children:Object(ne.jsx)(l.a,{store:bt,children:Object(ne.jsx)(jt,{})})}),document.getElementById("root"))},13:function(e,t,a){e.exports={header:"Header_header__3R89P",nav:"Header_nav__39Rz4",navItem:"Header_navItem__2AEoq",active:"Header_active__s3YBr",logo:"Header_logo__Mu4Zu"}},20:function(e,t,a){e.exports={container:"Pagination_container__3UrK4",item:"Pagination_item__KkjTg",itemActive:"Pagination_itemActive__3nDke",itemDisabled:"Pagination_itemDisabled__2Mb7m",link:"Pagination_link__2eI4H",linkActive:"Pagination_linkActive__1oiUV"}},25:function(e,t,a){e.exports={container:"Error404_container__1xoJz",title:"Error404_title__2-Ahk",errorMessage:"Error404_errorMessage__1d9jm",btnHome:"Error404_btnHome__SzXxP"}},34:function(e,t,a){e.exports={label:"AuthInput_label__esZf2",error:"AuthInput_error__2kg6h",input:"AuthInput_input__3YmfX"}},35:function(e,t,a){e.exports={container:"Detail_container__2qzet",orderId:"Detail_orderId__Ykxi2",orderName:"Detail_orderName__26Pjo"}},39:function(e,t,a){e.exports={container:"OrderItem_container__2dnwc",orderId:"OrderItem_orderId__7XPY0"}},40:function(e,t,a){e.exports={container:"MyPageBody_container__1YpzZ",pagination:"MyPageBody_pagination__BBZJn"}},41:function(e,t,a){e.exports={container:"layout_container__2KQaN",main:"layout_main__kMGK8"}},42:function(e,t,a){e.exports={productContainer:"Service_productContainer__2ICNW",productImg:"Service_productImg__GKFtB"}},53:function(e,t,a){e.exports={text:"Title_text__19TgJ"}},54:function(e,t,a){e.exports={button:"Button_button__1yaWD"}},55:function(e,t,a){e.exports={form:"AuthForm_form__34BX3"}},58:function(e,t,a){e.exports={errorMessage:"AuthFormErrorMessage_errorMessage__EbeDd"}},59:function(e,t,a){e.exports={errorMessage:"FetchErrorMessage_errorMessage__2kRD5"}},60:function(e,t,a){e.exports={container:"OrderList_container__2Gfbz"}},68:function(e,t,a){}},[[114,1,2]]]);
//# sourceMappingURL=main.f451bb70.chunk.js.map